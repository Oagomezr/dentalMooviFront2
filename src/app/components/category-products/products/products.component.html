<div class="products-section">
    <div class="products">
        <div *ngFor="let product of products" class="product animation">
            <a class="product-img" [href]="'/product/'+product.nameProduct">
                <img *ngIf="product.images.length == 0" src="assets/images/productWithoutImage.png" alt="">
                <img *ngIf="product.images.length > 0" [src]="'data:image/'+product.images[0].contentType+';base64,'+product.images[0].imageBase64" alt="">
            </a>
            <a class="product-name" [href]="'/product/'+product.nameProduct">
                {{ product.nameProduct }}
            </a>
            <a class="product-description" [href]="'/product/'+product.nameProduct">
                <p>{{ product.description}}</p>
            </a>
            <a class="product-price" [href]="'/product/'+product.nameProduct">
                {{'$'+ product.unitPrice}}
            </a>
            <a class="product-stock" [href]="'/product/'+product.nameProduct">
                <span *ngIf="product.stock>0" style="color: green;">{{'Hay '+ product.stock+' disponibles'}}</span>
                <span *ngIf="product.stock<=0" style="color: red;">No hay unidades disponibles</span>
            </a>
            <div class="product-add-cart">
                <button class="material-icons">add_shopping_cart</button>
            </div>
            

        </div>
    </div>
    <div class="pagination" *ngIf="totalPages > 1">
        <button (click)="prevPage()" *ngIf="currentPage > 1">{{'<'}}</button>
        <button *ngFor="let page of pages; let i = index" 
            [ngClass]="{ 'current-page': currentPage === i + 1 }"
            (click)="changePage(i + 1)" [disabled]="currentPage === i + 1">
            {{ i + 1 }}
        </button>
        <button (click)="nextPage()" *ngIf="(currentPage) != totalPages">{{'>'}}</button>
    </div>
</div>

